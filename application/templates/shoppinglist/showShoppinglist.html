{% extends "layout.html" %}

{% block body %}
{{ error }}
<style>
th, td {
  padding: 10px;
  text-align: right;
}
h6 {
  font-size: 25px;
  color: blue;
}
</style>
<h6>Add products on the list</h6> 
  <form method="POST", action="{{ url_for('shoppinglist_update', shoppinglist_id=slist_id)  }}">
    <table>
      <tr>
        <td>
          {{ form.product_id.label }}
        </td> 
        <td>
          {{ form.product_id}}
        </td>     
        <td>         
          <ul>
            {% for error in form.product_id.errors %}
            <li>{{ error }}</li>
            {% endfor %}
          </ul>
        </td>
      </tr>
      <tr>
        <td>
          {{ form.amount.label }}
        </td>
        <td>
          {{ form.amount }}
        </td>
        <td>
          <ul>
            {% for error in form.amount.errors %}
            <li>{{ error }}</li>
            {% endfor %}
          </ul>
        </td>
      </tr>
    <tr>
      <td colspan="2">
        <input type="submit" value="Add"/>
      </td>
    </tr>
  </form>
<li style="color:green">No product to choose? Please create some products first.
      To change amount, add product again with correct amount.
      To delete product from the list, add product again with amount 0.
</li>
</table>
<h6>Shoppinglist:</h6>
  <table style="width:100%">
    <tr>
      <th>Product:</th>
      <th>Category:</th>
      <th>Amount:</th>
      <th>Price per kg/piece:</th>
      <th>Total per product:</th>
    </tr>
    {% for content in list %}
    <tr>
      <td>{{ content.nameÂ }}</td>
      <td>{{ content.category }}</td>
      <td>{{ content.product_total }}</td>
      <td>{{ content.price }}</td>
      <td>{{ content.in_total }}</td>
    </tr>
    {% endfor %}
    {% for price in total%}
    <tr>
      <td></td>
      <td></td>
      <td></td>
      <th>Total price:</th>
      <th>{{ price.total }}</th>
    </tr>
    {% endfor %}
  </table>
{% endblock %}
